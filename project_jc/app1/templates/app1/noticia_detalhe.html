{% extends 'app1/base.html' %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'app1/css/noticia_detalhe.css' %}">


<div class="noticia-page container">
    <h1>{{ noticia.titulo }}</h1>
    <p>Publicado em: {{ noticia.data_publicacao|date:"d/m/Y H:i" }}</p>
    <hr>

    <div class="controles-fonte">
        <strong>Acessibilidade:</strong>
        <button id="diminuir-fonte" title="Diminuir Fonte (A-)">A-</button>
        <button id="aumentar-fonte" title="Aumentar Fonte (A+)">A+</button>
    </div>

    <article id="corpo-noticia">
        {{ noticia.conteudo|linebreaks }}
    </article>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {


        const btnAumentar = document.getElementById('aumentar-fonte');
        const btnDiminuir = document.getElementById('diminuir-fonte');
        const corpoNoticia = document.getElementById('corpo-noticia');


        const TAMANHO_MINIMO = 12; 
        const TAMANHO_MAXIMO = 32; 
        const INCREMENTO = 2;      


        function getTamanhoAtual() {
            const estilo = window.getComputedStyle(corpoNoticia, null).getPropertyValue('font-size');
            return parseFloat(estilo);
        }


        function setTamanhoFonte(novoTamanho) {
            corpoNoticia.style.fontSize = novoTamanho + 'px';
        }


        btnAumentar.addEventListener('click', () => {
            let tamanhoAtual = getTamanhoAtual();
            if (tamanhoAtual < TAMANHO_MAXIMO) {
                let novoTamanho = tamanhoAtual + INCREMENTO;
                setTamanhoFonte(novoTamanho);
            }
        });


        btnDiminuir.addEventListener('click', () => {
            let tamanhoAtual = getTamanhoAtual();
            if (tamanhoAtual > TAMANHO_MINIMO) {
                let novoTamanho = tamanhoAtual - INCREMENTO;
                setTamanhoFonte(novoTamanho);
            }
        });

    });
</script>

{% endblock %}
